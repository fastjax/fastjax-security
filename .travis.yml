# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Xjg3v7nJAvyGSi9lTGgAtNIfVCUgHUq5My7fMXWsT6C6fe8sz0Wc2bHHCXmwz/E36QQAmbBs3dm6ITOfMOmWkFvcPDUoW+O7yuDu5V1EheADaOTjmsubGpVD7ElPuKrds2ioc+K0/yNQx9aOZZTV7pLqsp/N6O/d1XwhWg3bZ6qH7bxtUSUc5TqjU8lUb6E2Nh6k21LpDCIjkDWixpwsdhkg7zXFIVDNah25s6FXYy3acpPEU+iLvCvp8vNhTr5yIQH/dgUgw3Cq5qnkRB6Zgvh4mKdJge2AoKpRCchouOZwWe4EnM9UMm74a9B152SaG4qdsi/M/U4vL+kzieoTHr/h1g5B9uwWDxHVxytr7qz+EsxfaRaChDpX8OaShRfkNVWJNmxuP8OfOcsq+lEXm9/AwmI3VfioCsfHaBaBwMxM9VRGx2RehcUXq00AQIeRXtUL8i7IV2GQlUWICH3Ep6/e+KaR8brg50Q/9/ikQC/uemdj3sQ+FH1p4y1vSmemgFndjMHQ8vIkOK9nmRvxjZYxWR+micj60Qu5rrj/NO9YP3HLHLWnoHV9cV9WfWdK2rVRIwKpWYq6Ev821DEewkcahvgGU1brYp9Bi9+qF3XlNVe1neiSePXa++B/KoTZsGBygbw7IkbTqJQgoFLhYphJf8w19q57/dBtc/QzJQA=
  - secure: AIkIIMVGpWy+ZmPTb/mmKbfS3cOy+CjWfYrv8jTv57WI9o2lE20Kyxukg3Kc1IXIasm4p0Zsx7H1KUF0snUkd9BHLmV56JGMC4PJJJ4D8i6xznYX5oIEv7VtbuYWvB1Zva7r+5ZfIyY5x7+dprak1v0/fRvtJSA6uYAQMxccbgQchzTnbgRyQH6tMVWDz3zcKA9A/U/xjVP3Nl1Fa5vVWfIYtyKSrMxa/eiuK2kMqYIQQcbQIPEA/03RDNT/Idn+yX5Hff0VHBoZ3FJxHsxZxsQgv0OdUagrgnUUmPSpErjax8JKQZZpOzj0NlOFjUZqsQBzPUmMKynGkn98ZQk8zj6S+CHA9QHuFI30IaP4VbRqShfatxIUz9O3WNmWP6o6ilDZej8Wg/cQqsCGZIPxFvvH0V8FSR46xLgIBswDJrveH1E93nuMsn06T5EtsGF8I4VemSBY8GOwiYI6GLUqVCAvHQstKsNQy4AUHEbuhlkT1Sc60+76yrQEeb3tQIull2KJbPbAAn6kw3YRYPa/guMOB00m28wT0PpcBtkd61ZxEhiTUSRjGa2Ehwd9oYKyS4j7h27y7hln03mGbPtrQY6MZj3kuS1NAbGri9mDmypfZ7uWDLEiIBUM25LcqHxfWxhk0E870bp9jveisq63TFwP/XXpozI/hhtbyQm33TE=
  - secure: Bxgwj+V9MF+5xFxfOZEZBySGzhMeM2KuYjmvUK61usGVhEygPzZ8Xem2F/1DIvxpHaI5JcUXBPHOUx+7Q3ystHV4uCqaBTQfNEuN4j10uECzc+YIaZBYPMJC99IHW7ogm1MFCnU6drD2pVH/Zy5g1BmX1emQJ/iwKdl8RUq8nfTyzZ37GRuVhXguo65JLgbmv7k0mVHXrJT7CUKW9uLW86ERrG3di6TqNAobnoAPBNBvQnm73Dij/I1DyJ7+YooXF4LgmVeBy1MAEgtPDAlkp30VKQ3Nwfdt32vQU2oY3pzCo741vJQIeC5rfQ/n/mGDnzz/yHOFxzUXMl5GhHV5l9PSGXvU3u3bL79VHm7GiL9/BbdntNiJawJnHwFgK8deAtm/UPwazcqzAw7EtfqogNXw3WwahW6ZF8C0KNz7ivdyzPDqfUm6RZDqj7Yh9XKGHzRayuaJUCSyi/uK5Z/FajPQMy/fzGChBU3NuI1qhv3EF1c7DjApHF7Evzry0qZL/nI4Xxp2vkpp2JSiBOomIBcsTZ+2DhbaCCx/+iGw8y1maEFY/q1iZfvFVrqNeAKjqMjvgFQKUPYcacfQshJwSHLxezD0+uODCSJUGVJuyKJhiwFCckKpet3MXkThF/GMYRdylqoCIXXytNnMZ8n7x6NInh73BB/wgctBSC++llg=
  - secure: GYTn9mrb4mOLtuuFCnFBOxBZVajcPblE5Nf2/dlFLDQHf2FPNtQ55VKqhB6xnSaeHFw5S3mCmEdjkZJC+tn7AaoKsBci4ddY/6T2kvKbWprP8JMrw/SqLk9OH52xuOKmPumiZfzs+31M0nGoDVGDfILzFYgl9O1PParhGnXkXFTk/alPQcTrPc/Z73KMMXwpnQX+MGallnHqEFqCZkXzyJULFVCQR38A+aL2ry6rg+vZPoekAmOtEunBzRkPZjwmgJSn/i6vnE5Zfnix5vVbg1ATSujh4nQsYtS6/DkggXUUCSOcLXN0yh3et26iz4PItjP0JD4y+NaTc1hMkuuQE2sHB74OTGvoavm9H9K84+HrBgjfUGxFbtHCSqGAEfdxKgKz1/NrQUm3pRL4wXtZbTwMTdn+td4LM6nlj5hAlOUq0KDmALum0JqZzAXbAObA+yWU1kwnVyjPDSuZ8QUgpBuV9vCndIvsu8v5pM14nc7qQxQ6TtXnQf4vKFCTEBtenYvvfMHBWS0bzH0yeJz2HQr2sMKucEh34522V9YQ9YvlGxTaIFFkMMvCO1wHHPkQZp/N3SjCYJOOT9IP9LOKIIALbNDhMbU5mYagreTV4oZC7bVEqaNOVkLqQJYFss8N9fo/+zF4QVRO3pvfvPY93tIJQIZgO6HvrQgt9yECH74=
  - secure: JQkRDGTp3BPIH1EI2yzP12+qCX8vJjdJYNUaHOaOXxgEBX55p25kuQpce+9p2VNvZdiSs8mTu4Y2uDkRrUFAe5w05OQp9IaQh5Ze4kYf1hRPkfAYcdaVSIRwFqOgNmmWweSljhb3z9q8lJIh4VToPTRnS/dYQNqrSIhpJcuiKdbpptydDk9wUV+Oo2Q01cx8K4ba9ifYwfRBWs/2GrvRrBwj2gAhRSiKuzRViuyBZPRqs1AiQbIfiCBApTXYvDh38eEJOL2D7k3Q85X28vP6YBz9kcBjgZofiDHYPFMtdSVXMv6xN8KHEqK1Li6lrQxy6Bj7CIu4LobvDtnAYL13ANTkSgGLSJVg1eO/lbdeHL2wMngO4Z9qRHrHp8dHQlu3McMTkU/F4yBrbDqVAIB8GF7OJv08oCEr0Cx9bLjJpRdxWjtoO7v+C5CQvluuMvOqqBntGaCloWd7U8n8Czpry5UwsSzu8JyZRUJbU2RKzYIcMv8dWiscVHIt9LvwMKRDxKCUm0OjqHMtzcbjdnm1DY6KljoTI+rovXe2jZR26C8bA2Y8mIA9c8UWNqg0MIWsH5lV01CGFuXqRPwhkAUacMVIYa6ZpIUj+P/QgM3h/Mx2Ue3x48TDQrdMesnlGjxU5/4AjvNoJ8AFsLfnfkcXHLTuERM35WEqjKBD3xIljfA=
  - secure: l8qNcAm3mFXJbdPvQFRER0K79qnT7NHl48msKp+zv1qfNpi6G7PtyO0ra0NC3OfYzYgHUfZSiqX6rp1fBWOVWS1SKCoMcfyREtedvThsE99tSSaGwWSMJYgWMy632Bvzz9Pb/gh9V53Kayp5xrLpRU1bDPN73e7MgXiV3O0YxxScqFzOqDFWPn+gp5RXdR1j9rt78WA5y5Cj1DbrrZAevH85XIZqsXChY7ZwQMNjhjBOibkkiBmMVk1XBa4JNWR4EOziQIKc1VCNEeXK5ga/5ppWKg/0JJ+N5sX5c1D48/57A1MvhRErz+IZD5AafqFrgsr6FMpDfXu0Hv5I6OvWHe8Gk6THADlwhxXaCy6gypVTpqPyCHl6sXOwZhbWLLLe60Rdfgik5j1k447mModeTa7T/txMjdtRL8X+0bxD1HD9l8iXgpRu2jr8B2tSfKQRekgeO+Q0CncTRs+HTgNZk3sYcJnp4E+BRLbW8HepwK4uVRMf05m1ujcvVy2w+vaIwdf2x+XN83QhchrujvGqADDvmWlteKYwY83dvzA4cL5UkzeAnlYnRA2DLvQjeWV3L8nh6QJsQ8gJ5a7qo33nD7nStYDPEOm3q0NJhEmuIKFpvJh2n3z8kMbGLZUbYgGFobVntwdSkRm3nXSFJ077rSpfbeUFSofXf8w0IrybjQ0=
